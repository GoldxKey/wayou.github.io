$(function(){var t=$(window).width()<768;$(".material-preloader").hide();o();var e=$("html, body"),a=$("#main"),n={prefetch:true,pageCacheSize:4,blacklist:"#toc a,.post-content a,.no-smoothstate",onStart:{duration:250,render:function(t,n){$(".material-preloader").show();e.animate({scrollTop:0});a.addClass("is-exiting");s.restartCSSAnimations()}},onEnd:{duration:0,render:function(t,n,s){$(".material-preloader").hide();a.removeClass("is-exiting");a.html(s);e.css("cursor","auto");setTimeout(function(){o();if(window["DUOSHUO"]&&$("#ds-thread")){DUOSHUO.EmbedThread($("#ds-thread")[0])}})}}},s=a.smoothState(n).data("smoothState");function o(){$(".material-preloader").hide();l();c();i();r()}function i(){var e=$(".nav-indicator","nav"),a=$(".menu-wrapper","nav"),n=false,s,o=$("ul.menus li.active a"),i;c(true);$(".menu-wrapper ul.menus li").on("mousemove",r);$(".menu-wrapper").on("mouseleave",l);function r(r){if(!t){s=r.target?$(r.target):r;if(!s.is("li")){s=s.parent("li")}var l=s.offset().left-a.offset().left,c=s.width();if(0!=o.length||n){e.css({transform:"translate3d("+l+"px, 0, 0) scaleX("+c/100+")"})}else{clearTimeout(i),e.css({transform:"translate3d("+(l+c/2)+"px, 0, 0) scaleX(0.001)"});setTimeout(function(){e.addClass("animate-indicator").css({transform:"translate3d("+l+"px, 0, 0) scaleX("+c/100+")"})},10)}n=true}}function l(l){if(!t){if(0==o.length){var c=s.offset().left-a.offset().left,f=s.width();e.css({transform:"translate3d("+(c+f/2)+"px, 0, 0) scaleX(0.001)"});i=setTimeout(function(){e.removeClass("animate-indicator")},200)}else{r(o)}n=false}}function c(t){if(o.length>0){var n=o.offset().left-a.offset().left;e.css({transform:"translate3d("+(n+o.width()/2)+"px, 0, 0) scaleX(0.001)"});setTimeout(function(){e.addClass("animate-indicator"),r(o)},100)}}}function r(){if(!t){$("#toc").html("");$("#toc").tocify({selectors:"h2,h3",extendPage:false,theme:"none",scrollHistory:true})}}function l(){$(".nav-toggle-icon").click(function(){$(this).toggleClass("active").find(".material-hamburger").toggleClass("opened");$(".menu-wrapper").toggleClass("active");$(".logo").toggleClass("fixed")})}function c(){Waves.attach(".wave");Waves.attach(".pagination a");Waves.attach(".pager .pager-item",["waves-button"]);Waves.attach(".btn",["waves-button"]);Waves.init()}});
<!DOCTYPE html><head><meta charset="utf-8"><title>利用HTML5 的Datalist 元素实现输入提示 | 刘哇勇的部落格</title><meta content="width=device-width,initial-scale=1,maximum-scale=1" name="viewport"><meta name="theme-color" content="#4184f3"><link href="/favicon.ico" rel="icon"><link rel="stylesheet" href="/css/highlight.light.css"><link rel="stylesheet" href="/css/nav-icon.css"><link rel="stylesheet" href="/css/waves.min.css"><link rel="stylesheet" href="/css/jquery.tocify.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/nav-indicator.css"></head><body><header></header><div id="main" class="m-scene"><div class="nav-wrapper" style="background-color:undefined"><div class="container"><nav><div class="logo wave"><a href="/" id="logo">刘哇勇的部落格</a></div><div class="nav-toggle-icon"><div class="material-hamburger"><span></span> <span></span> <span></span></div></div><div class="menu-wrapper"><div class="nav-indicator"></div><ul class="menus"><li><a class="wave" href="/">首页</a></li><li><a class="wave" href="/archives">归档</a></li><li><a class="wave" href="/about">关于</a></li><li><a class="wave no-smoothstate" href="/atom.xml">订阅</a></li></ul></div></nav></div></div><div class="container content"><div class="scene_element scene_element--fadein"><div class="row"><div class="main"><article><header class="post-header"></header><h1 class="post-title">利用HTML5 的Datalist 元素实现输入提示</h1><section class="post-info"><span class="post-date">2014/9/14</span> <span class="post-category"><a class="article-category-link" href="/categories/技术/">技术</a> </span><span class="post-tags"><ul class="post-tag-list"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/Autocomplete/">Autocomplete</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/Datalist/">Datalist</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/前端/">前端</a></li></ul></span></section><section class="post-content"><p>HTML5有无限可能，总是在释出一些新鲜实用的功能，让原生的web环境更加炫酷。</p><p>今天看到<code>datalist</code> 这个元素，可以用来预先定义一个输入框的潜在选项，也就是我们在平时项目中经常用jQuery插件或者自己写JS来实现的<code>autocomplete</code>「自动补全，但似乎自动提示更贴切一些」功能。</p><a id="more"></a><h2 id="datalist__u6807_u7B7E"><a href="/2014/09/14/autocomplete-with-html5-datalist/#datalist__u6807_u7B7E" class="headerlink" title="datalist 标签"></a>datalist 标签</h2><p>具体来说，页面上的<code>input</code>还是原来的<code>input</code>，只是在它的下面定义一下新的<code>datalist</code>在其中填充触发提示的文本,同时在该<code>input</code>元素上指定<code>list</code>属性指向这个<code>list</code>。一个大概的例子大概是像下面这样：<br></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">你最喜欢的浏览器是： <span class="tag">&lt;<span class="name">input</span> <span class="attr">list</span>=<span class="string">"browsers"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">"browsers"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Internet Explorer"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Firefox"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Chrome"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Opera"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Safari"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>最后出来的效果又差不多是这样的：<br><img src="/2014/09/14/autocomplete-with-html5-datalist/datalist1.gif" alt="HTML5 datalist demo"><span class="image-caption">HTML5 datalist demo</span></p><p>在线查看效果请点击<a href="http://sandbox.runjs.cn/show/lvgpes2k" target="_blank" rel="external">这里</a></p><p>没什么特别之处，简单得发指~</p><p>但相信大家在看了效果后跟我一样，发现了一个不足之处，在<code>input</code>右边会有向下的箭头，这让它看起来就像一个<code>dropdown</code> 或者<code>select</code> 「下拉框」，解决办法是多加两句CSS代码来将它隐藏，但此方法只是针对<code>webkit</code>内核的浏览器进行的优化：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-calendar-picker-indicator</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样之后出来的效果差不多成了这样：<br><img src="/2014/09/14/autocomplete-with-html5-datalist/datalist2.gif" alt="HTML5 datalist 去掉箭头的版本"><span class="image-caption">HTML5 datalist 去掉箭头的版本</span></p><h2 id="u6D4F_u89C8_u5668_u517C_u5BB9_u6027"><a href="/2014/09/14/autocomplete-with-html5-datalist/#u6D4F_u89C8_u5668_u517C_u5BB9_u6027" class="headerlink" title="浏览器兼容性"></a>浏览器兼容性</h2><p>下面的数据来自<a href="http://caniuse.com/#feat=datalist" target="_blank" rel="external">caniuse</a>。<br><img src="/2014/09/14/autocomplete-with-html5-datalist/caniuse_datalist.jpg" alt="Datalist 元素兼容性"><span class="image-caption">Datalist 元素兼容性</span><br>可以看出，遥遥领先的依然是风采依旧的Chrome，对该元素的支持全线飘绿；<br>同时Firefox也是毫不示弱，紧随版本帝之后;<br>而其他浏览器情况则各不相同，正所谓<strong>性</strong>福的人都相似，不幸的人各有不幸。<br>Opera在边缘浏览器中表现强劲，绿得很耀眼；<br>值得注意的是，在这场不算较量的较量中，苹果太子Safari则是黑马般拿到了垫底的位置，全线飘红。这直接一举打破IE在主流浏览器的各种评测中常年垫底的记录。<br>而IE虽然摆脱了末位的阴影，但即使是最新的IE11也只是对<code>Datalist</code>元素进行了部分支持，所以要与各强劲对手比肩而受到前端开发者的青睐还有些工作要做。但留给IE翻盘的时间已经不多了，正如留给中国队的时间一样~</p><h2 id="u53C2_u8003_u53CA_u5F15_u7528"><a href="/2014/09/14/autocomplete-with-html5-datalist/#u53C2_u8003_u53CA_u5F15_u7528" class="headerlink" title="参考及引用"></a>参考及引用</h2><ul><li><a href="http://caniuse.com/#feat=datalist" target="_blank" rel="external">Can I Use Datalist element</a></li><li><a href="http://www.codelator.com/blog/2014/sep/how-to-create-autocomplete-textbox-using-datalist-in-html5.html" target="_blank" rel="external">How to create Autocomplete Textbox using Datalist in HTML5</a></li></ul></section></article><div class="pager"><a class="post-prev pager-item" href="/2014/11/02/how-to-make-a-simple-html5-canvas-game-zh/"><strong class="article-nav-caption">上一篇</strong><p class="post-nav-title">如何开发一个简单的HTML5 Canvas 小游戏</p></a><a class="post-next pager-item" href="/2014/09/10/chrome-console-tips-and-tricks/"><strong class="article-nav-caption">下一篇</strong><p class="post-nav-title">Chrome 控制台不完全指南</p></a></div><div class="comment-section"><div class="ds-thread" data-thread-key="_posts/2014-09-14-autocomplete-with-html5-datalist.md" data-title="利用HTML5 的Datalist 元素实现输入提示" data-url="http://wayou.js.org/2014/09/14/autocomplete-with-html5-datalist/"></div><script type="text/javascript">var duoshuoQuery={short_name:"wayouliu"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()</script></div></div><aside><div id="toc"></div></aside></div></div></div></div><footer class="footer"><p>由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动，搭载<a href="https://github.com/wayou/hexo-theme-gstyle">gstyle</a>主题</p><p>&copy; 2016 Wayou Liu</p></footer><script src="/lib/jquery.js"></script><script src="/lib/waves.js"></script><script src="/lib/jquery-ui.js"></script><script src="/lib/jquery.tocify.min.js"></script><script src="/js/main.js"></script></body>
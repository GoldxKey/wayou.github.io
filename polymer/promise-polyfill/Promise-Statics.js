Promise.all=Promise.all||function(){var r=Array.prototype.slice.call(arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:arguments);return new Promise(function(n,e){if(r.length===0)return n([]);var t=r.length;function o(i,a){try{if(a&&(typeof a==="object"||typeof a==="function")){var f=a.then;if(typeof f==="function"){f.call(a,function(r){o(i,r)},e);return}}r[i]=a;if(--t===0){n(r)}}catch(c){e(c)}}for(var i=0;i<r.length;i++){o(i,r[i])}})};Promise.race=Promise.race||function(r){return new Promise(function(n,e){for(var t=0,o=r.length;t<o;t++){r[t].then(n,e)}})};
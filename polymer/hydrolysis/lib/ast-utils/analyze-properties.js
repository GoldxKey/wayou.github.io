"use strict";var esutil=require("./esutil");var astValue=require("./ast-value");var analyzeProperties=function(e){var t=[];if(e.type!="ObjectExpression"){return undefined}for(var r=0;r<e.properties.length;r++){var a=e.properties[r];var i=esutil.toPropertyDescriptor(a);i.published=true;if(a.value.type=="ObjectExpression"){for(var l=0;l<a.value.properties.length;l++){var s=a.value.properties[l];var u=esutil.objectKeyToString(s.key);switch(u){case"type":{i.type=esutil.objectKeyToString(s.value);if(i.type===undefined){throw{message:"Invalid type in property object.",location:s.loc.start}}}break;case"notify":{i.notify=astValue.expressionToValue(s.value);if(i.notify===undefined)i.notify=astValue.CANT_CONVERT}break;case"readOnly":{i.readOnly=astValue.expressionToValue(s.value);if(i.readOnly===undefined)i.readOnly=astValue.CANT_CONVERT}break;case"reflectToAttribute":{i.reflectToAttribute=astValue.expressionToValue(s);if(i.reflectToAttribute===undefined)i.reflectToAttribute=astValue.CANT_CONVERT}break;case"value":{i.default=astValue.expressionToValue(s.value);if(i.default===undefined)i.default=astValue.CANT_CONVERT}break;default:break}}}if(!i.type){throw{message:"Unable to determine name for property key.",location:e.loc.start}}t.push(i)}return t};module.exports=analyzeProperties;
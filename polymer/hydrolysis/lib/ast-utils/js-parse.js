"use strict";var espree=require("espree");var estraverse=require("estraverse");var behaviorFinder=require("./behavior-finder");var elementFinder=require("./element-finder");var featureFinder=require("./feature-finder");function traverse(e){var r;function t(r,t,a){var n;for(var i=0;i<e.length;i++){if(r in e[i]){n=e[i][r](t,a);if(n){return n}}}}return{enter:function(e,a){r="enter"+e.type;return t(r,e,a)},leave:function(e,a){r="leave"+e.type;return t(r,e,a)}}}var jsParse=function e(r){var t=espree.parse(r,{attachComment:true,comment:true,loc:true});var a=featureFinder();var n=behaviorFinder();var i=elementFinder();var s=[a,n,i].map(function(e){return e.visitors});estraverse.traverse(t,traverse(s));return{behaviors:n.behaviors,elements:i.elements,features:a.features}};module.exports=jsParse;